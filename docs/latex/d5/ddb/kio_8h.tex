\doxysection{src/io/kio.h File Reference}
\hypertarget{kio_8h}{}\label{kio_8h}\index{src/io/kio.h@{src/io/kio.h}}
{\ttfamily \#include $<$types/nums.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{kio_8h_a556dbaca28768fd91dacd53422223230}{Kprintf}} (const char \texorpdfstring{$\ast$}{*}fmt,...)
\begin{DoxyCompactList}\small\item\em Formatted output to the screen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_af05ef766e47691675bd907cbd362e7c5}{Kputchar}} (char c)
\begin{DoxyCompactList}\small\item\em Outputs a single character to the screen at the current cursor position. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_ab5b1620493cead3b15794c38e08b6cbb}{Kcfp}} ()
\begin{DoxyCompactList}\small\item\em Clears the screen by filling the video memory with spaces. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_a90480719311b7945e3fde965b01d9b31}{Kputchar\+Backspace}} ()
\begin{DoxyCompactList}\small\item\em Handles backspace keypress by moving the cursor back and clearing the character. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_adff30c0a071f02dbf33d53ecef9535ed}{Kprint\+Hex}} (\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} num)
\begin{DoxyCompactList}\small\item\em Prints a 32-\/bit unsigned integer in hexadecimal format prefixed with "{}0x"{}. \end{DoxyCompactList}\item 
char \mbox{\hyperlink{kio_8h_a169aeac886fd610ab102b51736c1e9e8}{Kgetkey}} ()
\begin{DoxyCompactList}\small\item\em Gets the next character from the keyboard buffer (blocking). \end{DoxyCompactList}\item 
unsigned char \mbox{\hyperlink{kio_8h_adb7e321a39049c02f26c17cfcce30d3f}{Scancode\+To\+Ascii}} (unsigned char scancode)
\item 
void \mbox{\hyperlink{kio_8h_a31cf36db330251ce379e7dc5dc735ee0}{Kgetstr}} (char \texorpdfstring{$\ast$}{*}str, int length)
\begin{DoxyCompactList}\small\item\em Reads a line of input from the keyboard (blocking). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_ac16b0ca4ec58cb9f895ab94a07a6bcee}{Kflush}} ()
\begin{DoxyCompactList}\small\item\em Flushes the keyboard controller input buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_a861abd8c3e0ad4db7d647956e6d6fa51}{Outb}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port, \mbox{\hyperlink{nums_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} value)
\begin{DoxyCompactList}\small\item\em Write a byte to the specified I/O port. \end{DoxyCompactList}\item 
\mbox{\hyperlink{nums_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} \mbox{\hyperlink{kio_8h_a6ab29a59b425f205c9da3550dcc76605}{Inb}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port)
\begin{DoxyCompactList}\small\item\em Read a byte from the specified I/O port. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_aab8bc2ab54d308769334c382f14dd21f}{Outw}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port, \mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} value)
\begin{DoxyCompactList}\small\item\em Write a 16-\/bit word to the specified I/O port. \end{DoxyCompactList}\item 
\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} \mbox{\hyperlink{kio_8h_a6b6b4e5a56d03f0833e7cc9bb922bf52}{Inw}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port)
\begin{DoxyCompactList}\small\item\em Read a 16-\/bit word from the specified I/O port. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_af3dc28e772ca97ae14e85743ee082fe0}{Cli}} ()
\begin{DoxyCompactList}\small\item\em Disable CPU interrupts (clear interrupt flag). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_ab26ee10caca0d97da59e9439433660cc}{Sti}} ()
\begin{DoxyCompactList}\small\item\em Enable CPU interrupts (set interrupt flag). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{kio_8h_ac44a237fa7c9a407408a37f35e0c1e5a}{Outl}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port, \mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} val)
\begin{DoxyCompactList}\small\item\em Write a 32-\/bit value to the specified I/O port. \end{DoxyCompactList}\item 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{kio_8h_a4701486394643faf28232bc4aa510bd3}{Inl}} (\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} port)
\begin{DoxyCompactList}\small\item\em Read a 32-\/bit value from the specified I/O port. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{kio_8h_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{kio_8h_af3dc28e772ca97ae14e85743ee082fe0}\index{kio.h@{kio.h}!Cli@{Cli}}
\index{Cli@{Cli}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Cli()}{Cli()}}
{\footnotesize\ttfamily \label{kio_8h_af3dc28e772ca97ae14e85743ee082fe0} 
void Cli (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Disable CPU interrupts (clear interrupt flag). 

This is often used before critical sections to prevent preemption by interrupt handlers. 

Definition at line \mbox{\hyperlink{asm_8c_source_l00096}{96}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_a6ab29a59b425f205c9da3550dcc76605}\index{kio.h@{kio.h}!Inb@{Inb}}
\index{Inb@{Inb}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Inb()}{Inb()}}
{\footnotesize\ttfamily \label{kio_8h_a6ab29a59b425f205c9da3550dcc76605} 
\mbox{\hyperlink{nums_8h_aed742c436da53c1080638ce6ef7d13de}{u8}} Inb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Read a byte from the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to read from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Byte value read 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{asm_8c_source_l00040}{40}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_a4701486394643faf28232bc4aa510bd3}\index{kio.h@{kio.h}!Inl@{Inl}}
\index{Inl@{Inl}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Inl()}{Inl()}}
{\footnotesize\ttfamily \label{kio_8h_a4701486394643faf28232bc4aa510bd3} 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} Inl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Read a 32-\/bit value from the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to read from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
32-\/bit value read 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{asm_8c_source_l00084}{84}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_a6b6b4e5a56d03f0833e7cc9bb922bf52}\index{kio.h@{kio.h}!Inw@{Inw}}
\index{Inw@{Inw}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Inw()}{Inw()}}
{\footnotesize\ttfamily \label{kio_8h_a6b6b4e5a56d03f0833e7cc9bb922bf52} 
\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}} Inw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Read a 16-\/bit word from the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to read from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
16-\/bit value read 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{asm_8c_source_l00062}{62}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_ab5b1620493cead3b15794c38e08b6cbb}\index{kio.h@{kio.h}!Kcfp@{Kcfp}}
\index{Kcfp@{Kcfp}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kcfp()}{Kcfp()}}
{\footnotesize\ttfamily \label{kio_8h_ab5b1620493cead3b15794c38e08b6cbb} 
void Kcfp (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Clears the screen by filling the video memory with spaces. 

Resets cursor position to the top-\/left corner (0,0). 

Definition at line \mbox{\hyperlink{printer_8c_source_l00028}{28}} of file \mbox{\hyperlink{printer_8c_source}{printer.\+c}}.

\Hypertarget{kio_8h_ac16b0ca4ec58cb9f895ab94a07a6bcee}\index{kio.h@{kio.h}!Kflush@{Kflush}}
\index{Kflush@{Kflush}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kflush()}{Kflush()}}
{\footnotesize\ttfamily \label{kio_8h_ac16b0ca4ec58cb9f895ab94a07a6bcee} 
void Kflush (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Flushes the keyboard controller input buffer. 

Reads and discards all unread bytes in the controllerâ€™s 0x60 port. 

Definition at line \mbox{\hyperlink{keyin_8c_source_l00219}{219}} of file \mbox{\hyperlink{keyin_8c_source}{keyin.\+c}}.

\Hypertarget{kio_8h_a169aeac886fd610ab102b51736c1e9e8}\index{kio.h@{kio.h}!Kgetkey@{Kgetkey}}
\index{Kgetkey@{Kgetkey}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kgetkey()}{Kgetkey()}}
{\footnotesize\ttfamily \label{kio_8h_a169aeac886fd610ab102b51736c1e9e8} 
char Kgetkey (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Gets the next character from the keyboard buffer (blocking). 

\begin{DoxyReturn}{Returns}
The next ASCII character from the input buffer. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{keyin_8c_source_l00169}{169}} of file \mbox{\hyperlink{keyin_8c_source}{keyin.\+c}}.

\Hypertarget{kio_8h_a31cf36db330251ce379e7dc5dc735ee0}\index{kio.h@{kio.h}!Kgetstr@{Kgetstr}}
\index{Kgetstr@{Kgetstr}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kgetstr()}{Kgetstr()}}
{\footnotesize\ttfamily \label{kio_8h_a31cf36db330251ce379e7dc5dc735ee0} 
void Kgetstr (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{str}{, }\item[{int}]{length}{}\end{DoxyParamCaption})}



Reads a line of input from the keyboard (blocking). 

Handles basic line editing (Enter, Backspace, Delete).


\begin{DoxyParams}{Parameters}
{\em str} & Destination buffer \\
\hline
{\em length} & Maximum buffer length (including null terminator) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{keyin_8c_source_l00186}{186}} of file \mbox{\hyperlink{keyin_8c_source}{keyin.\+c}}.

\Hypertarget{kio_8h_a556dbaca28768fd91dacd53422223230}\index{kio.h@{kio.h}!Kprintf@{Kprintf}}
\index{Kprintf@{Kprintf}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kprintf()}{Kprintf()}}
{\footnotesize\ttfamily \label{kio_8h_a556dbaca28768fd91dacd53422223230} 
void Kprintf (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{fmt}{, }\item[{}]{...}{}\end{DoxyParamCaption})}



Formatted output to the screen. 

Supports format specifiers\+:
\begin{DoxyItemize}
\item c \+: character
\item s \+: string
\item d \+: signed decimal integer
\item x \+: unsigned hexadecimal integer
\item \%\% \+: literal percent sign
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em fmt} & Format string \\
\hline
{\em ...} & Variable arguments corresponding to format specifiers \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{printer_8c_source_l00152}{152}} of file \mbox{\hyperlink{printer_8c_source}{printer.\+c}}.

\Hypertarget{kio_8h_adff30c0a071f02dbf33d53ecef9535ed}\index{kio.h@{kio.h}!KprintHex@{KprintHex}}
\index{KprintHex@{KprintHex}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{KprintHex()}{KprintHex()}}
{\footnotesize\ttfamily \label{kio_8h_adff30c0a071f02dbf33d53ecef9535ed} 
void Kprint\+Hex (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{num}{}\end{DoxyParamCaption})}



Prints a 32-\/bit unsigned integer in hexadecimal format prefixed with "{}0x"{}. 

Example output\+: 0x\+DEADBEEF


\begin{DoxyParams}{Parameters}
{\em num} & The number to print \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{printer_8c_source_l00092}{92}} of file \mbox{\hyperlink{printer_8c_source}{printer.\+c}}.

\Hypertarget{kio_8h_af05ef766e47691675bd907cbd362e7c5}\index{kio.h@{kio.h}!Kputchar@{Kputchar}}
\index{Kputchar@{Kputchar}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Kputchar()}{Kputchar()}}
{\footnotesize\ttfamily \label{kio_8h_af05ef766e47691675bd907cbd362e7c5} 
void Kputchar (\begin{DoxyParamCaption}\item[{char}]{c}{}\end{DoxyParamCaption})}



Outputs a single character to the screen at the current cursor position. 

Supports newline (\textquotesingle{}~\newline
\textquotesingle{}) to move cursor to the next line. Advances cursor position and scrolls screen if necessary.


\begin{DoxyParams}{Parameters}
{\em c} & Character to output \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{printer_8c_source_l00046}{46}} of file \mbox{\hyperlink{printer_8c_source}{printer.\+c}}.

\Hypertarget{kio_8h_a90480719311b7945e3fde965b01d9b31}\index{kio.h@{kio.h}!KputcharBackspace@{KputcharBackspace}}
\index{KputcharBackspace@{KputcharBackspace}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{KputcharBackspace()}{KputcharBackspace()}}
{\footnotesize\ttfamily \label{kio_8h_a90480719311b7945e3fde965b01d9b31} 
void Kputchar\+Backspace (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Handles backspace keypress by moving the cursor back and clearing the character. 



Definition at line \mbox{\hyperlink{printer_8c_source_l00071}{71}} of file \mbox{\hyperlink{printer_8c_source}{printer.\+c}}.

\Hypertarget{kio_8h_a861abd8c3e0ad4db7d647956e6d6fa51}\index{kio.h@{kio.h}!Outb@{Outb}}
\index{Outb@{Outb}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Outb()}{Outb()}}
{\footnotesize\ttfamily \label{kio_8h_a861abd8c3e0ad4db7d647956e6d6fa51} 
void Outb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{, }\item[{\mbox{\hyperlink{nums_8h_aed742c436da53c1080638ce6ef7d13de}{u8}}}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Write a byte to the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to write to \\
\hline
{\em val} & Byte value to write \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{asm_8c_source_l00030}{30}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_ac44a237fa7c9a407408a37f35e0c1e5a}\index{kio.h@{kio.h}!Outl@{Outl}}
\index{Outl@{Outl}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Outl()}{Outl()}}
{\footnotesize\ttfamily \label{kio_8h_ac44a237fa7c9a407408a37f35e0c1e5a} 
void Outl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{, }\item[{\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Write a 32-\/bit value to the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to write to \\
\hline
{\em val} & 32-\/bit value to write \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{asm_8c_source_l00074}{74}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_aab8bc2ab54d308769334c382f14dd21f}\index{kio.h@{kio.h}!Outw@{Outw}}
\index{Outw@{Outw}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Outw()}{Outw()}}
{\footnotesize\ttfamily \label{kio_8h_aab8bc2ab54d308769334c382f14dd21f} 
void Outw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{port}{, }\item[{\mbox{\hyperlink{nums_8h_a9e6c91d77e24643b888dbd1a1a590054}{u16}}}]{val}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Write a 16-\/bit word to the specified I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & I/O port to write to \\
\hline
{\em val} & 16-\/bit value to write \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{asm_8c_source_l00052}{52}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

\Hypertarget{kio_8h_adb7e321a39049c02f26c17cfcce30d3f}\index{kio.h@{kio.h}!ScancodeToAscii@{ScancodeToAscii}}
\index{ScancodeToAscii@{ScancodeToAscii}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{ScancodeToAscii()}{ScancodeToAscii()}}
{\footnotesize\ttfamily \label{kio_8h_adb7e321a39049c02f26c17cfcce30d3f} 
unsigned char Scancode\+To\+Ascii (\begin{DoxyParamCaption}\item[{unsigned char}]{scancode}{}\end{DoxyParamCaption})}

\Hypertarget{kio_8h_ab26ee10caca0d97da59e9439433660cc}\index{kio.h@{kio.h}!Sti@{Sti}}
\index{Sti@{Sti}!kio.h@{kio.h}}
\doxysubsubsection{\texorpdfstring{Sti()}{Sti()}}
{\footnotesize\ttfamily \label{kio_8h_ab26ee10caca0d97da59e9439433660cc} 
void Sti (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Enable CPU interrupts (set interrupt flag). 

This is used after a critical section to re-\/enable interrupts. NOPs are added for minor instruction delay. 

Definition at line \mbox{\hyperlink{asm_8c_source_l00104}{104}} of file \mbox{\hyperlink{asm_8c_source}{asm.\+c}}.

