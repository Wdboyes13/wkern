\doxysection{src/fileio/fat16\+\_\+mnt.c File Reference}
\hypertarget{fat16__mnt_8c}{}\label{fat16__mnt_8c}\index{src/fileio/fat16\_mnt.c@{src/fileio/fat16\_mnt.c}}
{\ttfamily \#include $<$fileio/fileio.\+h$>$}\newline
{\ttfamily \#include $<$io/kio.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{fat16__mnt_8c_a221afaf9135188702262f7e2041dda1c}{Fat16\+Total\+Clusters}} (struct \mbox{\hyperlink{struct_fa_t16_info}{Fa\+T16\+Info}} \texorpdfstring{$\ast$}{*}fat)
\begin{DoxyCompactList}\small\item\em Calculate the total number of data clusters in a FAT16 filesystem. \end{DoxyCompactList}\item 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} \mbox{\hyperlink{fat16__mnt_8c_acf67e9fa4293c49faae3ee63c1f307fe}{Fat16\+Mount}} (\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} partition\+\_\+lba)
\begin{DoxyCompactList}\small\item\em Mounts the FAT16 filesystem from a given partition LBA. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_fa_t16_info}{Fa\+T16\+Info}} \mbox{\hyperlink{fat16__mnt_8c_a666a93dce54663bac1b67500b58cbb48}{fat16}}
\begin{DoxyCompactList}\small\item\em Holds FAT16 filesystem info and a sector buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\label{doc-func-members}
\Hypertarget{fat16__mnt_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{fat16__mnt_8c_acf67e9fa4293c49faae3ee63c1f307fe}\index{fat16\_mnt.c@{fat16\_mnt.c}!Fat16Mount@{Fat16Mount}}
\index{Fat16Mount@{Fat16Mount}!fat16\_mnt.c@{fat16\_mnt.c}}
\doxysubsubsection{\texorpdfstring{Fat16Mount()}{Fat16Mount()}}
{\footnotesize\ttfamily \label{fat16__mnt_8c_acf67e9fa4293c49faae3ee63c1f307fe} 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} Fat16\+Mount (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}}}]{partition\+\_\+lba}{}\end{DoxyParamCaption})}



Mounts the FAT16 filesystem from a given partition LBA. 

Mounts FAT16 partition and reads filesystem info.

Reads the boot sector, validates the FAT16 signature, and initializes the FAT16 info struct with important filesystem layout details.


\begin{DoxyParams}{Parameters}
{\em partition\+\_\+lba} & Logical block address of the FAT16 partition. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on failure (invalid boot sector signature).
\end{DoxyReturn}
Prints mount status and key filesystem layout info via Kprintf. 

Definition at line \mbox{\hyperlink{fat16__mnt_8c_source_l00067}{67}} of file \mbox{\hyperlink{fat16__mnt_8c_source}{fat16\+\_\+mnt.\+c}}.

\Hypertarget{fat16__mnt_8c_a221afaf9135188702262f7e2041dda1c}\index{fat16\_mnt.c@{fat16\_mnt.c}!Fat16TotalClusters@{Fat16TotalClusters}}
\index{Fat16TotalClusters@{Fat16TotalClusters}!fat16\_mnt.c@{fat16\_mnt.c}}
\doxysubsubsection{\texorpdfstring{Fat16TotalClusters()}{Fat16TotalClusters()}}
{\footnotesize\ttfamily \label{fat16__mnt_8c_a221afaf9135188702262f7e2041dda1c} 
\mbox{\hyperlink{nums_8h_a10e94b422ef0c20dcdec20d31a1f5049}{u32}} Fat16\+Total\+Clusters (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{struct_fa_t16_info}{Fa\+T16\+Info}} \texorpdfstring{$\ast$}{*}}]{fat}{}\end{DoxyParamCaption})}



Calculate the total number of data clusters in a FAT16 filesystem. 


\begin{DoxyParams}{Parameters}
{\em fat} & Pointer to a \doxylink{struct_fa_t16_info}{Fa\+T16\+Info} struct representing the FAT16 filesystem. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of clusters available in the data region.
\end{DoxyReturn}
This calculates clusters by subtracting reserved, FAT, and root directory sectors from the total sectors and dividing by sectors per cluster. 

Definition at line \mbox{\hyperlink{fat16__mnt_8c_source_l00037}{37}} of file \mbox{\hyperlink{fat16__mnt_8c_source}{fat16\+\_\+mnt.\+c}}.



\label{doc-var-members}
\Hypertarget{fat16__mnt_8c_doc-var-members}
\doxysubsection{Variable Documentation}
\Hypertarget{fat16__mnt_8c_a666a93dce54663bac1b67500b58cbb48}\index{fat16\_mnt.c@{fat16\_mnt.c}!fat16@{fat16}}
\index{fat16@{fat16}!fat16\_mnt.c@{fat16\_mnt.c}}
\doxysubsubsection{\texorpdfstring{fat16}{fat16}}
{\footnotesize\ttfamily \label{fat16__mnt_8c_a666a93dce54663bac1b67500b58cbb48} 
struct \mbox{\hyperlink{struct_fa_t16_info}{Fa\+T16\+Info}} fat16}



Holds FAT16 filesystem info and a sector buffer. 

Global FAT16 filesystem info struct. 

Definition at line \mbox{\hyperlink{fat16__mnt_8c_source_l00025}{25}} of file \mbox{\hyperlink{fat16__mnt_8c_source}{fat16\+\_\+mnt.\+c}}.

